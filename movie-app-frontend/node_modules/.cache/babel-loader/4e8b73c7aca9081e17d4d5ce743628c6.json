{"ast":null,"code":"import jwtdecode from 'jwt-decode';\nconst userInitialState = {\n  userToken: sessionStorage.getItem(\"usersToken\"),\n  _userId: '',\n  userRole: '',\n  loginMessage: '',\n  signupMessage: '',\n  loginSuccess: false,\n  signupSuccess: false,\n  profile: ''\n};\n\nconst userReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : userInitialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case 'SET_USER_TOKEN':\n    case 'SET_USER_RETRIEVE_TOKEN':\n      const user = jwtdecode(action.token);\n      return { ...state,\n        userToken: action.token,\n        _userId: user.id,\n        userRole: user.role,\n        loginMessage: 'logged in',\n        profile: user,\n        loginSuccess: true,\n        signupSuccess: false\n      };\n\n    case 'SET_SIGN_UP':\n      return { ...state,\n        userToken: '',\n        signupMessage: 'signed up',\n        signupSuccess: true,\n        loginSuccess: false\n      };\n\n    case 'SET_LOGIN_ERROR':\n      return { ...state,\n        loginMessage: action.payload,\n        loginSuccess: false,\n        signupSuccess: false\n      };\n\n    case 'SET_SIGNUP_ERROR':\n      return { ...state,\n        signupMessage: action.payload\n      };\n\n    case 'DELETE_USER_TOKEN':\n      sessionStorage.removeItem(\"usersToken\");\n      return {\n        userToken: '',\n        _userId: '',\n        userRole: '',\n        loginMessage: '',\n        signupMessage: '',\n        profile: '',\n        loginSuccess: false,\n        signupSuccess: false\n      };\n\n    case 'SET_PROFILE':\n      return { ...state,\n        profile: action.payload\n      };\n\n    case 'SET_USER_REFRESH':\n      return { ...state,\n        profile: ''\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport { userReducer };","map":{"version":3,"names":["jwtdecode","userInitialState","userToken","sessionStorage","getItem","_userId","userRole","loginMessage","signupMessage","loginSuccess","signupSuccess","profile","userReducer","state","action","type","user","token","id","role","payload","removeItem"],"sources":["/home/asplap2005/Documents/React-Project/movie-app-frontend/src/components/redux/UserReducer.js"],"sourcesContent":["import jwtdecode from 'jwt-decode'\n\nconst userInitialState = {\n    userToken : sessionStorage.getItem(\"usersToken\"),\n    _userId : '',\n    userRole : '',\n    loginMessage : '',\n    signupMessage : '',\n    loginSuccess : false,\n    signupSuccess : false,\n    profile : ''\n}\n\n\nconst userReducer = (state = userInitialState, action) => {\n    switch(action.type){\n        case 'SET_USER_TOKEN' : \n        case 'SET_USER_RETRIEVE_TOKEN' :\n        const user = jwtdecode(action.token)\n        return {\n            ...state,\n            userToken : action.token,\n            _userId : user.id,\n            userRole : user.role,\n            loginMessage : 'logged in',\n            profile : user,\n            loginSuccess : true,\n            signupSuccess : false\n        }\n        case 'SET_SIGN_UP' : return {\n            ...state,\n            userToken : '',\n            signupMessage : 'signed up',\n            signupSuccess : true,\n            loginSuccess : false\n        }\n        case 'SET_LOGIN_ERROR' : return {\n            ...state,\n            loginMessage : action.payload,\n            loginSuccess : false,\n            signupSuccess : false\n        }\n        case 'SET_SIGNUP_ERROR' : return {\n            ...state,\n            signupMessage : action.payload,\n            \n        }\n        case 'DELETE_USER_TOKEN' : sessionStorage.removeItem(\"usersToken\")\n        return {\n            userToken : '',\n            _userId : '',\n            userRole : '',\n            loginMessage : '',\n            signupMessage : '',\n            profile : '',\n            loginSuccess : false,\n            signupSuccess : false\n        }\n        case 'SET_PROFILE' : return {\n            ...state,\n            profile : action.payload\n        }\n        case 'SET_USER_REFRESH' : return {\n            ...state,\n            profile : ''\n        }\n        default : return state\n    }\n}\n\nexport {\n    userReducer\n}"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,YAAtB;AAEA,MAAMC,gBAAgB,GAAG;EACrBC,SAAS,EAAGC,cAAc,CAACC,OAAf,CAAuB,YAAvB,CADS;EAErBC,OAAO,EAAG,EAFW;EAGrBC,QAAQ,EAAG,EAHU;EAIrBC,YAAY,EAAG,EAJM;EAKrBC,aAAa,EAAG,EALK;EAMrBC,YAAY,EAAG,KANM;EAOrBC,aAAa,EAAG,KAPK;EAQrBC,OAAO,EAAG;AARW,CAAzB;;AAYA,MAAMC,WAAW,GAAG,YAAsC;EAAA,IAArCC,KAAqC,uEAA7BZ,gBAA6B;EAAA,IAAXa,MAAW;;EACtD,QAAOA,MAAM,CAACC,IAAd;IACI,KAAK,gBAAL;IACA,KAAK,yBAAL;MACA,MAAMC,IAAI,GAAGhB,SAAS,CAACc,MAAM,CAACG,KAAR,CAAtB;MACA,OAAO,EACH,GAAGJ,KADA;QAEHX,SAAS,EAAGY,MAAM,CAACG,KAFhB;QAGHZ,OAAO,EAAGW,IAAI,CAACE,EAHZ;QAIHZ,QAAQ,EAAGU,IAAI,CAACG,IAJb;QAKHZ,YAAY,EAAG,WALZ;QAMHI,OAAO,EAAGK,IANP;QAOHP,YAAY,EAAG,IAPZ;QAQHC,aAAa,EAAG;MARb,CAAP;;IAUA,KAAK,aAAL;MAAqB,OAAO,EACxB,GAAGG,KADqB;QAExBX,SAAS,EAAG,EAFY;QAGxBM,aAAa,EAAG,WAHQ;QAIxBE,aAAa,EAAG,IAJQ;QAKxBD,YAAY,EAAG;MALS,CAAP;;IAOrB,KAAK,iBAAL;MAAyB,OAAO,EAC5B,GAAGI,KADyB;QAE5BN,YAAY,EAAGO,MAAM,CAACM,OAFM;QAG5BX,YAAY,EAAG,KAHa;QAI5BC,aAAa,EAAG;MAJY,CAAP;;IAMzB,KAAK,kBAAL;MAA0B,OAAO,EAC7B,GAAGG,KAD0B;QAE7BL,aAAa,EAAGM,MAAM,CAACM;MAFM,CAAP;;IAK1B,KAAK,mBAAL;MAA2BjB,cAAc,CAACkB,UAAf,CAA0B,YAA1B;MAC3B,OAAO;QACHnB,SAAS,EAAG,EADT;QAEHG,OAAO,EAAG,EAFP;QAGHC,QAAQ,EAAG,EAHR;QAIHC,YAAY,EAAG,EAJZ;QAKHC,aAAa,EAAG,EALb;QAMHG,OAAO,EAAG,EANP;QAOHF,YAAY,EAAG,KAPZ;QAQHC,aAAa,EAAG;MARb,CAAP;;IAUA,KAAK,aAAL;MAAqB,OAAO,EACxB,GAAGG,KADqB;QAExBF,OAAO,EAAGG,MAAM,CAACM;MAFO,CAAP;;IAIrB,KAAK,kBAAL;MAA0B,OAAO,EAC7B,GAAGP,KAD0B;QAE7BF,OAAO,EAAG;MAFmB,CAAP;;IAI1B;MAAU,OAAOE,KAAP;EAnDd;AAqDH,CAtDD;;AAwDA,SACID,WADJ"},"metadata":{},"sourceType":"module"}