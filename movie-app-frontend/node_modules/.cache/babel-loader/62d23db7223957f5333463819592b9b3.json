{"ast":null,"code":"import { SET_ADMIN_TOKEN, SET_ADMIN_RETRIEVE_TOKEN, DELETE_ADMIN_TOKEN, SET_ADMIN_PROFILE } from \"./actionTypes\";\nimport axios from 'axios';\n\nconst setAdminToken = token => {\n  return {\n    type: SET_ADMIN_TOKEN,\n    token\n  };\n};\n\nconst deleteAdminToken = () => {\n  return {\n    type: DELETE_ADMIN_TOKEN\n  };\n};\n\nconst setAdminRetrieveToken = token => {\n  return {\n    type: SET_ADMIN_RETRIEVE_TOKEN,\n    token\n  };\n};\n\nconst setAdminProfile = admin => {\n  return {\n    type: SET_ADMIN_PROFILE,\n    payload: admin\n  };\n};\n\nconst storeAdminToken = admin => {\n  console.log(\"store admin token : \", admin);\n  return dispatch => {\n    axios.post(`http://localhost:3040/admin/login`, admin).then(token => {\n      localStorage.setItem(\"adminsToken\", token.data.accessToken);\n      dispatch(setAdminToken(token.data.accessToken));\n    }).catch(err => console.log(err.response.data, err.response.status));\n  };\n};\n\nconst retrieveAdminToken = () => {\n  return (dispatch, getState) => {\n    const token = getState().adminTokener.adminToken;\n\n    if (token) {\n      dispatch(setAdminRetrieveToken(token));\n    }\n  };\n};\n\nconst viewAdminProfile = adminId => {\n  return dispatch => {\n    axios.get(`http://localhost:3040/admin/my-profile/${adminId}`).then(admin => {\n      dispatch(setAdminProfile(admin.data.admin));\n    }).catch(err => console.log(err));\n  };\n};\n\nconst updateAdminProfile = (adminDetails, adminId) => {\n  return dispatch => {\n    axios.put(`http://localhost:3040/admin/${adminId}`, adminDetails).then(() => {\n      dispatch(setAdminProfile(adminDetails));\n    }).catch(err => console.log(\"error : \", err));\n  };\n};\n\nexport { storeAdminToken, retrieveAdminToken, deleteAdminToken, viewAdminProfile, updateAdminProfile };","map":{"version":3,"names":["SET_ADMIN_TOKEN","SET_ADMIN_RETRIEVE_TOKEN","DELETE_ADMIN_TOKEN","SET_ADMIN_PROFILE","axios","setAdminToken","token","type","deleteAdminToken","setAdminRetrieveToken","setAdminProfile","admin","payload","storeAdminToken","console","log","dispatch","post","then","localStorage","setItem","data","accessToken","catch","err","response","status","retrieveAdminToken","getState","adminTokener","adminToken","viewAdminProfile","adminId","get","updateAdminProfile","adminDetails","put"],"sources":["/home/asplap2005/Documents/React-Project/movie-app-frontend/src/components/redux/adminActions.js"],"sourcesContent":["import { SET_ADMIN_TOKEN, SET_ADMIN_RETRIEVE_TOKEN, DELETE_ADMIN_TOKEN, SET_ADMIN_PROFILE } from \"./actionTypes\"\nimport axios from 'axios'\n\nconst setAdminToken = (token) => {\n    return {\n        type : SET_ADMIN_TOKEN,\n        token\n    }\n}\nconst deleteAdminToken = () => {\n    return {\n        type : DELETE_ADMIN_TOKEN\n    }\n}\nconst setAdminRetrieveToken = (token) => {\n    return {\n        type : SET_ADMIN_RETRIEVE_TOKEN,\n        token\n    }\n}\nconst setAdminProfile = (admin) => {\n    return {\n        type : SET_ADMIN_PROFILE,\n        payload : admin\n    }\n}\n\nconst storeAdminToken = (admin) => {\n    console.log(\"store admin token : \",admin)\n    return(dispatch) => {\n        axios.post(`http://localhost:3040/admin/login`,admin)\n        .then( token => {\n            localStorage.setItem(\"adminsToken\", token.data.accessToken)\n            dispatch(setAdminToken(token.data.accessToken))\n        })\n        .catch( err => console.log(err.response.data,err.response.status))\n    }\n}\n\nconst retrieveAdminToken = () => {\n    \n    return(dispatch, getState) => {\n        const token = getState().adminTokener.adminToken\n        if(token){\n            dispatch(setAdminRetrieveToken(token))\n        } \n    }\n}\n\nconst viewAdminProfile = (adminId) => {\n    return(dispatch) => {\n        axios.get(`http://localhost:3040/admin/my-profile/${adminId}`)\n        .then((admin) => {\n            dispatch(setAdminProfile(admin.data.admin))\n        })\n        .catch( err => console.log(err) )\n    }\n}\n\nconst updateAdminProfile = (adminDetails,adminId) => {\n    return (dispatch) => {\n        axios.put(`http://localhost:3040/admin/${adminId}`,adminDetails)\n        .then(() => { \n            dispatch(setAdminProfile(adminDetails))\n        })\n        .catch( err => console.log(\"error : \",err))\n    }\n}\nexport {\n    storeAdminToken,\n    retrieveAdminToken,\n    deleteAdminToken,\n    viewAdminProfile,\n    updateAdminProfile\n}\n"],"mappings":"AAAA,SAASA,eAAT,EAA0BC,wBAA1B,EAAoDC,kBAApD,EAAwEC,iBAAxE,QAAiG,eAAjG;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,aAAa,GAAIC,KAAD,IAAW;EAC7B,OAAO;IACHC,IAAI,EAAGP,eADJ;IAEHM;EAFG,CAAP;AAIH,CALD;;AAMA,MAAME,gBAAgB,GAAG,MAAM;EAC3B,OAAO;IACHD,IAAI,EAAGL;EADJ,CAAP;AAGH,CAJD;;AAKA,MAAMO,qBAAqB,GAAIH,KAAD,IAAW;EACrC,OAAO;IACHC,IAAI,EAAGN,wBADJ;IAEHK;EAFG,CAAP;AAIH,CALD;;AAMA,MAAMI,eAAe,GAAIC,KAAD,IAAW;EAC/B,OAAO;IACHJ,IAAI,EAAGJ,iBADJ;IAEHS,OAAO,EAAGD;EAFP,CAAP;AAIH,CALD;;AAOA,MAAME,eAAe,GAAIF,KAAD,IAAW;EAC/BG,OAAO,CAACC,GAAR,CAAY,sBAAZ,EAAmCJ,KAAnC;EACA,OAAOK,QAAD,IAAc;IAChBZ,KAAK,CAACa,IAAN,CAAY,mCAAZ,EAA+CN,KAA/C,EACCO,IADD,CACOZ,KAAK,IAAI;MACZa,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAoCd,KAAK,CAACe,IAAN,CAAWC,WAA/C;MACAN,QAAQ,CAACX,aAAa,CAACC,KAAK,CAACe,IAAN,CAAWC,WAAZ,CAAd,CAAR;IACH,CAJD,EAKCC,KALD,CAKQC,GAAG,IAAIV,OAAO,CAACC,GAAR,CAAYS,GAAG,CAACC,QAAJ,CAAaJ,IAAzB,EAA8BG,GAAG,CAACC,QAAJ,CAAaC,MAA3C,CALf;EAMH,CAPD;AAQH,CAVD;;AAYA,MAAMC,kBAAkB,GAAG,MAAM;EAE7B,OAAM,CAACX,QAAD,EAAWY,QAAX,KAAwB;IAC1B,MAAMtB,KAAK,GAAGsB,QAAQ,GAAGC,YAAX,CAAwBC,UAAtC;;IACA,IAAGxB,KAAH,EAAS;MACLU,QAAQ,CAACP,qBAAqB,CAACH,KAAD,CAAtB,CAAR;IACH;EACJ,CALD;AAMH,CARD;;AAUA,MAAMyB,gBAAgB,GAAIC,OAAD,IAAa;EAClC,OAAOhB,QAAD,IAAc;IAChBZ,KAAK,CAAC6B,GAAN,CAAW,0CAAyCD,OAAQ,EAA5D,EACCd,IADD,CACOP,KAAD,IAAW;MACbK,QAAQ,CAACN,eAAe,CAACC,KAAK,CAACU,IAAN,CAAWV,KAAZ,CAAhB,CAAR;IACH,CAHD,EAICY,KAJD,CAIQC,GAAG,IAAIV,OAAO,CAACC,GAAR,CAAYS,GAAZ,CAJf;EAKH,CAND;AAOH,CARD;;AAUA,MAAMU,kBAAkB,GAAG,CAACC,YAAD,EAAcH,OAAd,KAA0B;EACjD,OAAQhB,QAAD,IAAc;IACjBZ,KAAK,CAACgC,GAAN,CAAW,+BAA8BJ,OAAQ,EAAjD,EAAmDG,YAAnD,EACCjB,IADD,CACM,MAAM;MACRF,QAAQ,CAACN,eAAe,CAACyB,YAAD,CAAhB,CAAR;IACH,CAHD,EAICZ,KAJD,CAIQC,GAAG,IAAIV,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAuBS,GAAvB,CAJf;EAKH,CAND;AAOH,CARD;;AASA,SACIX,eADJ,EAEIc,kBAFJ,EAGInB,gBAHJ,EAIIuB,gBAJJ,EAKIG,kBALJ"},"metadata":{},"sourceType":"module"}