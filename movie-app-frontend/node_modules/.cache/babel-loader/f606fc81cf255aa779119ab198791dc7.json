{"ast":null,"code":"import { SET_MOVIES, SET_MOVIE, SET_UPDATED_MOVIE } from \"./ActionTypes\";\nimport axios from 'axios';\nimport { MovieBase } from \"../api/BaseUrl\";\nimport { axiosAdminInstance } from \"../api/Interceptors\";\n\nconst setMovies = movies => {\n  return {\n    type: SET_MOVIES,\n    payload: movies\n  };\n};\n\nconst setUpdatedMovie = movie => {\n  return {\n    type: SET_UPDATED_MOVIE,\n    payload: movie\n  };\n};\n\nconst setCurrentMovies = movies => {\n  return {\n    type: 'SET_CURRENT_MOVIES',\n    payload: movies\n  };\n};\n\nconst viewMovies = () => {\n  return dispatch => {\n    axios.get(`${MovieBase}`).then(movies => {\n      console.log(\"movies : \", movies.data.movies);\n      dispatch(setMovies(movies.data.movies));\n    }).catch(err => console.log(err));\n  };\n};\n\nconst viewCurrentMovies = currentDate => {\n  return dispatch => {\n    axios.get(`${MovieBase}/today/?current=${currentDate}`).then(movies => {\n      console.log(\"Current Movies : \", movies.data);\n    }).catch(err => {\n      console.log(\"error : \", err);\n    });\n  };\n};\n\nconst addMovies = movieDetails => {\n  return dispatch => {\n    axiosAdminInstance({\n      url: `movies`,\n      method: \"post\",\n      data: movieDetails\n    }).then(movie => {\n      console.log(\"movie added : \", movie.data.message);\n      dispatch(setMovie(movie.data.message));\n    }).catch(err => console.log(\"error : \", err));\n  };\n};\n\nconst viewMovie = movieId => {\n  return dispatch => {\n    axios.get(`${MovieBase}/${movieId}`).then(movie => {\n      dispatch(setMovie(movie.data.movie));\n    }).catch(err => console.log(err));\n  };\n};\n\nconst deleteMovie = movieId => {\n  return () => {\n    axiosAdminInstance({\n      url: `movies/${movieId}`,\n      method: \"delete\"\n    }).then(message => console.log(message)).catch(err => console.log(err));\n  };\n};\n\nconst updateMovie = (movieDetails, movieId) => {\n  return dispatch => {\n    axiosAdminInstance({\n      url: `movies/${movieId}`,\n      method: \"put\",\n      data: movieDetails\n    }).then(() => {\n      dispatch(setUpdatedMovie(movieDetails));\n    }).catch(err => console.log(err));\n  };\n};\n\nexport { addMovies, viewMovies, viewMovie, viewCurrentMovies, deleteMovie, updateMovie };","map":{"version":3,"names":["SET_MOVIES","SET_MOVIE","SET_UPDATED_MOVIE","axios","MovieBase","axiosAdminInstance","setMovies","movies","type","payload","setUpdatedMovie","movie","setCurrentMovies","viewMovies","dispatch","get","then","console","log","data","catch","err","viewCurrentMovies","currentDate","addMovies","movieDetails","url","method","message","setMovie","viewMovie","movieId","deleteMovie","updateMovie"],"sources":["/home/asplap2005/Documents/React-Project/movie-app-frontend/src/components/redux/MovieActions.js"],"sourcesContent":["import { SET_MOVIES, SET_MOVIE, SET_UPDATED_MOVIE} from \"./ActionTypes\"\nimport axios from 'axios'\nimport { MovieBase } from \"../api/BaseUrl\"\nimport { axiosAdminInstance } from \"../api/Interceptors\"\n\nconst setMovies = (movies) => {\n    return {\n        type : SET_MOVIES,\n        payload : movies\n    }\n}\nconst setUpdatedMovie = (movie) => {\n    return {\n        type : SET_UPDATED_MOVIE,\n        payload : movie\n    }\n}\nconst setCurrentMovies = (movies) => {\n    return {\n        type : 'SET_CURRENT_MOVIES',\n        payload : movies\n    }\n}\nconst viewMovies = () => {\n    return(dispatch) => {\n        axios.get(`${MovieBase}`)\n        .then(movies => {\n            console.log(\"movies : \",movies.data.movies)\n            dispatch(setMovies(movies.data.movies))\n        })\n        .catch( err => console.log(err) )\n    }\n}\nconst viewCurrentMovies = (currentDate) => {\n    return(dispatch) => {\n        axios.get(`${MovieBase}/today/?current=${currentDate}`)\n        .then(movies => {\n            console.log(\"Current Movies : \",movies.data)\n        })\n        .catch( err => {\n            console.log(\"error : \",err)\n        })\n    }\n}\nconst addMovies = (movieDetails) => {\n    return (dispatch) => {\n        axiosAdminInstance({\n            url: `movies`,\n            method: \"post\",\n            data:movieDetails\n        })\n        .then(movie => { \n            console.log(\"movie added : \",movie.data.message)\n            dispatch(setMovie(movie.data.message))\n        })\n        .catch( err => console.log(\"error : \",err))\n    }\n}\nconst viewMovie = (movieId) => {\n    return(dispatch) => {\n        axios.get(`${MovieBase}/${movieId}`)\n        .then(movie => {\n            dispatch(setMovie(movie.data.movie))\n        })\n        .catch( err => console.log(err) )\n    }\n}\nconst deleteMovie = (movieId) => {\n    return() => {\n        axiosAdminInstance({\n            url: `movies/${movieId}`,\n            method: \"delete\"\n        })\n        .then((message) => console.log(message) )\n        .catch( (err) => console.log(err))\n    }\n}\nconst updateMovie = (movieDetails,movieId) => {\n    return(dispatch) => {\n        axiosAdminInstance({\n            url: `movies/${movieId}`,\n            method: \"put\",\n            data:movieDetails\n        })\n        .then(() => {\n            dispatch(setUpdatedMovie(movieDetails))\n        })\n        .catch( err => console.log(err))\n    }\n}\nexport {\n    addMovies,\n    viewMovies,\n    viewMovie,\n    viewCurrentMovies,\n    deleteMovie,\n    updateMovie\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}