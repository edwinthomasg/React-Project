{"ast":null,"code":"import { SET_LOGIN, SET_LOGOUT, SET_SIGNUP, SET_SIGNOUT, TOGGLE_SIGNUP, SET_ADMIN_LOGIN, SET_ADMIN_LOGOUT, SET_TOKEN, SET_RETRIEVE_TOKEN } from \"./authTypes\";\nimport axios from 'axios';\n\nconst setLogin = () => {\n  return {\n    type: SET_LOGIN\n  };\n};\n\nconst setLogout = () => {\n  return {\n    type: SET_LOGOUT\n  };\n};\n\nconst setSignUp = () => {\n  return {\n    type: SET_SIGNUP\n  };\n};\n\nconst setSignOut = () => {\n  return {\n    type: SET_SIGNOUT\n  };\n};\n\nconst toggleSignup = () => {\n  return {\n    type: TOGGLE_SIGNUP\n  };\n};\n\nconst setAdminLogin = () => {\n  return {\n    type: SET_ADMIN_LOGIN\n  };\n};\n\nconst setAdminLogout = () => {\n  return {\n    type: SET_ADMIN_LOGOUT\n  };\n};\n\nconst setToken = token => {\n  return {\n    type: SET_TOKEN,\n    token\n  };\n};\n\nconst setRetrieveToken = token => {\n  return {\n    type: SET_RETRIEVE_TOKEN,\n    token: token.data\n  };\n};\n\nconst storeUserToken = function (user) {\n  let type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'login';\n  return (dispatch, getState) => {\n    axios.post(`http://localhost:3040/users/${type}`, user).then(token => {\n      if (type === 'login') {\n        localStorage.setItem(\"usersToken\", token.data.accessToken);\n        console.log(token.data.accessToken);\n        dispatch(setToken(token.data.accessToken));\n        const token = getState().tokener.token;\n        console.log(token);\n      }\n    }).catch(err => console.log(err));\n  };\n};\n\nconst retrieveToken = () => {\n  return (dispatch, getState) => {\n    const token = getState().tokener.token;\n    console.log(token);\n\n    if (token) {\n      dispatch(setRetrieveToken(token));\n    }\n  };\n};\n\nexport { setLogin, setLogout, setSignUp, setSignOut, toggleSignup, setAdminLogin, setAdminLogout, storeUserToken, retrieveToken };","map":{"version":3,"names":["SET_LOGIN","SET_LOGOUT","SET_SIGNUP","SET_SIGNOUT","TOGGLE_SIGNUP","SET_ADMIN_LOGIN","SET_ADMIN_LOGOUT","SET_TOKEN","SET_RETRIEVE_TOKEN","axios","setLogin","type","setLogout","setSignUp","setSignOut","toggleSignup","setAdminLogin","setAdminLogout","setToken","token","setRetrieveToken","data","storeUserToken","user","dispatch","getState","post","then","localStorage","setItem","accessToken","console","log","tokener","catch","err","retrieveToken"],"sources":["/home/asplap2005/Documents/React-Project/movie-app-frontend/src/components/redux/authActions.js"],"sourcesContent":["import { SET_LOGIN, SET_LOGOUT, SET_SIGNUP, SET_SIGNOUT, TOGGLE_SIGNUP, SET_ADMIN_LOGIN, SET_ADMIN_LOGOUT, SET_TOKEN, SET_RETRIEVE_TOKEN } from \"./authTypes\"\nimport axios from 'axios'\n\nconst setLogin = () => {\n    return {\n        type : SET_LOGIN\n    }   \n}\nconst setLogout = () => {\n    return {\n       type : SET_LOGOUT\n    }  \n}\nconst setSignUp = () => {\n    return {\n        type : SET_SIGNUP\n    }\n}\nconst setSignOut = () => {\n    return {\n        type : SET_SIGNOUT\n    }\n}\nconst toggleSignup = () => {\n    return {\n        type : TOGGLE_SIGNUP\n    }\n}\nconst setAdminLogin = () => {\n    return {\n        type : SET_ADMIN_LOGIN\n    }\n} \nconst setAdminLogout = () => {\n    return {\n        type : SET_ADMIN_LOGOUT\n    }\n} \nconst setToken = (token) => {\n    return {\n        type : SET_TOKEN,\n        token\n    }\n}\nconst setRetrieveToken = (token) => {\n    return {\n        type : SET_RETRIEVE_TOKEN,\n        token : token.data\n    }\n}\nconst storeUserToken = (user, type = 'login') => {\n    return(dispatch,getState) => {\n        axios.post(`http://localhost:3040/users/${type}`,user)\n        .then( token => {\n            if(type === 'login')\n            {\n            localStorage.setItem(\"usersToken\", token.data.accessToken)\n            console.log(token.data.accessToken)\n            dispatch(setToken(token.data.accessToken))\n            const token = getState().tokener.token\n        console.log(token)\n            }\n        })\n        .catch( err => console.log(err) )\n    }\n}\nconst retrieveToken = () => {\n    return(dispatch, getState) => {\n        const token = getState().tokener.token\n        console.log(token)\n        if(token){\n            dispatch(setRetrieveToken(token))\n        } \n    }\n}\nexport {\n    setLogin,\n    setLogout,\n    setSignUp,\n    setSignOut,\n    toggleSignup,\n    setAdminLogin,\n    setAdminLogout,\n    storeUserToken,\n    retrieveToken\n}\n"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,UAApB,EAAgCC,UAAhC,EAA4CC,WAA5C,EAAyDC,aAAzD,EAAwEC,eAAxE,EAAyFC,gBAAzF,EAA2GC,SAA3G,EAAsHC,kBAAtH,QAAgJ,aAAhJ;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,QAAQ,GAAG,MAAM;EACnB,OAAO;IACHC,IAAI,EAAGX;EADJ,CAAP;AAGH,CAJD;;AAKA,MAAMY,SAAS,GAAG,MAAM;EACpB,OAAO;IACJD,IAAI,EAAGV;EADH,CAAP;AAGH,CAJD;;AAKA,MAAMY,SAAS,GAAG,MAAM;EACpB,OAAO;IACHF,IAAI,EAAGT;EADJ,CAAP;AAGH,CAJD;;AAKA,MAAMY,UAAU,GAAG,MAAM;EACrB,OAAO;IACHH,IAAI,EAAGR;EADJ,CAAP;AAGH,CAJD;;AAKA,MAAMY,YAAY,GAAG,MAAM;EACvB,OAAO;IACHJ,IAAI,EAAGP;EADJ,CAAP;AAGH,CAJD;;AAKA,MAAMY,aAAa,GAAG,MAAM;EACxB,OAAO;IACHL,IAAI,EAAGN;EADJ,CAAP;AAGH,CAJD;;AAKA,MAAMY,cAAc,GAAG,MAAM;EACzB,OAAO;IACHN,IAAI,EAAGL;EADJ,CAAP;AAGH,CAJD;;AAKA,MAAMY,QAAQ,GAAIC,KAAD,IAAW;EACxB,OAAO;IACHR,IAAI,EAAGJ,SADJ;IAEHY;EAFG,CAAP;AAIH,CALD;;AAMA,MAAMC,gBAAgB,GAAID,KAAD,IAAW;EAChC,OAAO;IACHR,IAAI,EAAGH,kBADJ;IAEHW,KAAK,EAAGA,KAAK,CAACE;EAFX,CAAP;AAIH,CALD;;AAMA,MAAMC,cAAc,GAAG,UAACC,IAAD,EAA0B;EAAA,IAAnBZ,IAAmB,uEAAZ,OAAY;EAC7C,OAAM,CAACa,QAAD,EAAUC,QAAV,KAAuB;IACzBhB,KAAK,CAACiB,IAAN,CAAY,+BAA8Bf,IAAK,EAA/C,EAAiDY,IAAjD,EACCI,IADD,CACOR,KAAK,IAAI;MACZ,IAAGR,IAAI,KAAK,OAAZ,EACA;QACAiB,YAAY,CAACC,OAAb,CAAqB,YAArB,EAAmCV,KAAK,CAACE,IAAN,CAAWS,WAA9C;QACAC,OAAO,CAACC,GAAR,CAAYb,KAAK,CAACE,IAAN,CAAWS,WAAvB;QACAN,QAAQ,CAACN,QAAQ,CAACC,KAAK,CAACE,IAAN,CAAWS,WAAZ,CAAT,CAAR;QACA,MAAMX,KAAK,GAAGM,QAAQ,GAAGQ,OAAX,CAAmBd,KAAjC;QACJY,OAAO,CAACC,GAAR,CAAYb,KAAZ;MACK;IACJ,CAVD,EAWCe,KAXD,CAWQC,GAAG,IAAIJ,OAAO,CAACC,GAAR,CAAYG,GAAZ,CAXf;EAYH,CAbD;AAcH,CAfD;;AAgBA,MAAMC,aAAa,GAAG,MAAM;EACxB,OAAM,CAACZ,QAAD,EAAWC,QAAX,KAAwB;IAC1B,MAAMN,KAAK,GAAGM,QAAQ,GAAGQ,OAAX,CAAmBd,KAAjC;IACAY,OAAO,CAACC,GAAR,CAAYb,KAAZ;;IACA,IAAGA,KAAH,EAAS;MACLK,QAAQ,CAACJ,gBAAgB,CAACD,KAAD,CAAjB,CAAR;IACH;EACJ,CAND;AAOH,CARD;;AASA,SACIT,QADJ,EAEIE,SAFJ,EAGIC,SAHJ,EAIIC,UAJJ,EAKIC,YALJ,EAMIC,aANJ,EAOIC,cAPJ,EAQIK,cARJ,EASIc,aATJ"},"metadata":{},"sourceType":"module"}