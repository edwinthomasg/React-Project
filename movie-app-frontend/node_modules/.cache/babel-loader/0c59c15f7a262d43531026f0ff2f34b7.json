{"ast":null,"code":"import jwtdecode from 'jwt-decode';\nconst initialState = {\n  profile: ''\n};\nconst tokenState = {\n  userToken: localStorage.getItem(\"usersToken\"),\n  _userId: ''\n};\nconst userErrorInitialState = {\n  errors: ''\n};\n\nconst userReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  console.log(\" auth type : \", action.type);\n\n  switch (action.type) {\n    case 'SET_PROFILE':\n      return { ...state,\n        profile: action.payload\n      };\n\n    default:\n      return state;\n  }\n};\n\nconst tokenUserReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : tokenState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  console.log(\"token user type : \", action.type);\n\n  switch (action.type) {\n    case 'SET_USER_TOKEN':\n    case 'SET_USER_RETRIEVE_TOKEN':\n      const user = jwtdecode(action.token);\n      return { ...tokenState,\n        userToken: action.token,\n        _userId: user.id\n      };\n\n    case 'DELETE_USER_TOKEN':\n      localStorage.removeItem(\"usersToken\");\n      return {\n        userToken: '',\n        _userId: ''\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport { userReducer, tokenUserReducer };","map":{"version":3,"names":["jwtdecode","initialState","profile","tokenState","userToken","localStorage","getItem","_userId","userErrorInitialState","errors","userReducer","state","action","console","log","type","payload","tokenUserReducer","user","token","id","removeItem"],"sources":["/home/asplap2005/Documents/React-Project/movie-app-frontend/src/components/redux/userReducer.js"],"sourcesContent":["import jwtdecode from 'jwt-decode'\n\nconst initialState = {\n    profile : ''\n}\nconst tokenState = {\n    userToken : localStorage.getItem(\"usersToken\"),\n    _userId : ''\n}\nconst userErrorInitialState = {\n    errors : ''\n}\n\nconst userReducer = (state = initialState, action) => {\n    console.log(\" auth type : \",action.type)\n    switch(action.type){\n        case 'SET_PROFILE' : return {\n            ...state,\n            profile : action.payload\n        }\n        default : return state\n    }\n}\nconst tokenUserReducer = (state = tokenState, action) => {\n    console.log(\"token user type : \",action.type)\n    switch(action.type){\n        case 'SET_USER_TOKEN' : \n        case 'SET_USER_RETRIEVE_TOKEN' :\n        const user = jwtdecode(action.token)\n        return {\n            ...tokenState,\n            userToken : action.token,\n            _userId : user.id\n        }\n        case 'DELETE_USER_TOKEN' : localStorage.removeItem(\"usersToken\")\n        return {\n            userToken : '',\n            _userId : ''\n        }\n        default : return state\n    }\n}\n\n\n\nexport {\n    userReducer,\n    tokenUserReducer\n}"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,YAAtB;AAEA,MAAMC,YAAY,GAAG;EACjBC,OAAO,EAAG;AADO,CAArB;AAGA,MAAMC,UAAU,GAAG;EACfC,SAAS,EAAGC,YAAY,CAACC,OAAb,CAAqB,YAArB,CADG;EAEfC,OAAO,EAAG;AAFK,CAAnB;AAIA,MAAMC,qBAAqB,GAAG;EAC1BC,MAAM,EAAG;AADiB,CAA9B;;AAIA,MAAMC,WAAW,GAAG,YAAkC;EAAA,IAAjCC,KAAiC,uEAAzBV,YAAyB;EAAA,IAAXW,MAAW;EAClDC,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA4BF,MAAM,CAACG,IAAnC;;EACA,QAAOH,MAAM,CAACG,IAAd;IACI,KAAK,aAAL;MAAqB,OAAO,EACxB,GAAGJ,KADqB;QAExBT,OAAO,EAAGU,MAAM,CAACI;MAFO,CAAP;;IAIrB;MAAU,OAAOL,KAAP;EALd;AAOH,CATD;;AAUA,MAAMM,gBAAgB,GAAG,YAAgC;EAAA,IAA/BN,KAA+B,uEAAvBR,UAAuB;EAAA,IAAXS,MAAW;EACrDC,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAiCF,MAAM,CAACG,IAAxC;;EACA,QAAOH,MAAM,CAACG,IAAd;IACI,KAAK,gBAAL;IACA,KAAK,yBAAL;MACA,MAAMG,IAAI,GAAGlB,SAAS,CAACY,MAAM,CAACO,KAAR,CAAtB;MACA,OAAO,EACH,GAAGhB,UADA;QAEHC,SAAS,EAAGQ,MAAM,CAACO,KAFhB;QAGHZ,OAAO,EAAGW,IAAI,CAACE;MAHZ,CAAP;;IAKA,KAAK,mBAAL;MAA2Bf,YAAY,CAACgB,UAAb,CAAwB,YAAxB;MAC3B,OAAO;QACHjB,SAAS,EAAG,EADT;QAEHG,OAAO,EAAG;MAFP,CAAP;;IAIA;MAAU,OAAOI,KAAP;EAdd;AAgBH,CAlBD;;AAsBA,SACID,WADJ,EAEIO,gBAFJ"},"metadata":{},"sourceType":"module"}