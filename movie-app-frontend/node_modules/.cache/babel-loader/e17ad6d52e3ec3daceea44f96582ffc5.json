{"ast":null,"code":"import { SET_USER_TOKEN, SET_USER_RETRIEVE_TOKEN, DELETE_USER_TOKEN, SET_PROFILE, SET_LOGIN_ERROR, SET_SIGN_UP, SET_SIGNUP_ERROR, SET_USER_REFRESH } from \"./ActionTypes\";\nimport axios from \"axios\";\nimport { UserBase } from \"../api/BaseUrl\";\nimport { axiosUserInstance } from \"../api/Interceptors\";\n\nconst setUserToken = token => {\n  return {\n    type: SET_USER_TOKEN,\n    token: token.accessToken,\n    payload: token.message\n  };\n};\n\nconst setUserRetrieveToken = token => {\n  return {\n    type: SET_USER_RETRIEVE_TOKEN,\n    token\n  };\n};\n\nconst deleteUserToken = () => {\n  return {\n    type: DELETE_USER_TOKEN\n  };\n};\n\nconst setProfile = user => {\n  return {\n    type: SET_PROFILE,\n    payload: user\n  };\n};\n\nconst refreshProfile = () => {\n  return {\n    type: SET_USER_REFRESH\n  };\n};\n\nconst setLoginError = error => {\n  return {\n    type: SET_LOGIN_ERROR,\n    payload: error\n  };\n};\n\nconst setSignUpError = error => {\n  return {\n    type: SET_SIGNUP_ERROR,\n    payload: error\n  };\n};\n\nconst setSignUp = success => {\n  return {\n    type: SET_SIGN_UP,\n    payload: success\n  };\n};\n/**To login as user by posting all the login credetials */\n\n\nconst loginUser = user => {\n  return dispatch => {\n    axios.post(`${UserBase}/login`, user).then(token => {\n      sessionStorage.setItem(\"usersToken\", token.data.accessToken);\n      dispatch(setUserToken(token.data));\n    }).catch(error => {\n      dispatch(setLoginError(error.response.data.errorMessage));\n    });\n  };\n};\n/**To register a new user */\n\n\nconst signUpUser = user => {\n  return dispatch => {\n    axios.post(`${UserBase}/signup`, user).then(response => {\n      dispatch(setSignUp(response.data.message));\n    }).catch(error => {\n      dispatch(setSignUpError(error.response.data.errorMessage));\n    });\n  };\n};\n/**To retreive the token when the page is refreshed */\n\n\nconst retrieveUserToken = () => {\n  return (dispatch, getState) => {\n    const token = getState().user.userToken;\n\n    if (token) {\n      dispatch(setUserRetrieveToken(token));\n    }\n  };\n};\n/**To fetch a single user details */\n\n\nconst viewProfile = userId => {\n  return dispatch => {\n    axiosUserInstance({\n      url: `users/my-profile/${userId}`,\n      method: \"get\"\n    }).then(user => {\n      dispatch(setProfile(user.data.user));\n    }).catch(error => console.log(error));\n  };\n};\n/**To fetch a */\n\n\nconst updateProfile = (userDetails, userId) => {\n  return dispatch => {\n    axiosUserInstance({\n      url: `users/${userId}`,\n      method: \"put\",\n      data: userDetails\n    }).then(() => {\n      dispatch(setProfile(userDetails));\n    }).catch(error => console.log(\"error : \", error));\n  };\n};\n\nexport { loginUser, retrieveUserToken, deleteUserToken, viewProfile, updateProfile, signUpUser };","map":{"version":3,"names":["SET_USER_TOKEN","SET_USER_RETRIEVE_TOKEN","DELETE_USER_TOKEN","SET_PROFILE","SET_LOGIN_ERROR","SET_SIGN_UP","SET_SIGNUP_ERROR","SET_USER_REFRESH","axios","UserBase","axiosUserInstance","setUserToken","token","type","accessToken","payload","message","setUserRetrieveToken","deleteUserToken","setProfile","user","refreshProfile","setLoginError","error","setSignUpError","setSignUp","success","loginUser","dispatch","post","then","sessionStorage","setItem","data","catch","response","errorMessage","signUpUser","retrieveUserToken","getState","userToken","viewProfile","userId","url","method","console","log","updateProfile","userDetails"],"sources":["/home/asplap2005/Documents/React-Project/movie-app-frontend/src/components/redux/UserActions.js"],"sourcesContent":["import { SET_USER_TOKEN, SET_USER_RETRIEVE_TOKEN, DELETE_USER_TOKEN, SET_PROFILE, SET_LOGIN_ERROR , SET_SIGN_UP, SET_SIGNUP_ERROR,  SET_USER_REFRESH } from \"./ActionTypes\"\nimport axios from \"axios\"\nimport { UserBase } from \"../api/BaseUrl\"\nimport { axiosUserInstance } from \"../api/Interceptors\"\n\nconst setUserToken = (token) => {\n    return {\n        type : SET_USER_TOKEN,\n        token : token.accessToken,\n        payload : token.message\n    }\n}\nconst setUserRetrieveToken = (token) => {\n    return {\n        type : SET_USER_RETRIEVE_TOKEN,\n        token\n    }\n}\nconst deleteUserToken = () => {\n    return {\n        type : DELETE_USER_TOKEN\n    }\n}\nconst setProfile = (user) => {\n    return {\n        type : SET_PROFILE,\n        payload : user\n    }\n}\nconst refreshProfile = () => {\n    return {\n        type : SET_USER_REFRESH\n    }\n}\nconst setLoginError = (error) => {\n    return {\n        type : SET_LOGIN_ERROR,\n        payload : error\n    }\n}\nconst setSignUpError = (error) => {\n    return {\n        type : SET_SIGNUP_ERROR,\n        payload : error\n    }\n}\nconst setSignUp = (success) => {\n    return {\n        type : SET_SIGN_UP,\n        payload : success\n    }\n}\n/**To login as user by posting all the login credetials */\nconst loginUser = (user) => {\n    return (dispatch) => {\n        axios.post(`${UserBase}/login`,user)\n        .then( token => {\n            sessionStorage.setItem(\"usersToken\", token.data.accessToken)\n            dispatch(setUserToken(token.data))\n        })\n        .catch( error => {\n            dispatch(setLoginError(error.response.data.errorMessage))\n        })\n    }\n}\n/**To register a new user */\nconst signUpUser = (user) => {\n    return(dispatch) => {\n        axios.post(`${UserBase}/signup`,user)\n        .then(response => {\n        dispatch(setSignUp(response.data.message))\n        })\n        .catch( error => {\n        dispatch(setSignUpError(error.response.data.errorMessage))\n         })\n    }\n}\n/**To retreive the token when the page is refreshed */\nconst retrieveUserToken = () => {\n    return(dispatch, getState) => {\n        const token = getState().user.userToken\n        if(token){\n            dispatch(setUserRetrieveToken(token))\n        } \n    }\n}\n/**To fetch a single user details */\nconst viewProfile = (userId) => {\n    return(dispatch) => {\n        axiosUserInstance({\n            url: `users/my-profile/${userId}`,\n            method: \"get\"\n        })\n        .then((user) => {\n            dispatch(setProfile(user.data.user))\n        })\n        .catch( error => console.log(error) )\n    }\n}\n/**To fetch a */\nconst updateProfile = (userDetails,userId) => {\n    return (dispatch) => {\n        axiosUserInstance({\n            url: `users/${userId}`,\n            method: \"put\",\n            data : userDetails\n        })\n        .then(() => { \n            dispatch(setProfile(userDetails))\n        })\n        .catch( error => console.log(\"error : \",error))\n    }\n}\n\nexport {\n    loginUser,\n    retrieveUserToken,\n    deleteUserToken,\n    viewProfile,\n    updateProfile,\n    signUpUser\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}