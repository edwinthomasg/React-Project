{"ast":null,"code":"import jwtdecode from 'jwt-decode';\nconst userInitialState = {\n  userToken: sessionStorage.getItem(\"usersToken\"),\n  _userId: '',\n  userRole: '',\n  message: '',\n  error: '',\n  profile: ''\n}; // const tokenState = {\n//     userToken : sessionStorage.getItem(\"usersToken\"),\n//     _userId : '',\n//     userRole : '',\n//     message : '',\n//     error : ''\n// }\n\nconst userReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : userInitialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case 'SET_USER_TOKEN':\n    case 'SET_USER_RETRIEVE_TOKEN':\n      const user = jwtdecode(action.token);\n      return { ...state,\n        userToken: action.token,\n        _userId: user.id,\n        userRole: user.role,\n        message: 'logged in',\n        error: ''\n      };\n\n    case 'SET_SIGN_UP':\n      return { ...state,\n        userToken: '',\n        _userId: '',\n        userRole: '',\n        message: 'signed up',\n        error: ''\n      };\n\n    case 'SET_AUTH_ERROR':\n      return {\n        userToken: '',\n        _userId: '',\n        userRole: '',\n        message: '',\n        error: action.payload\n      };\n\n    case 'DELETE_USER_TOKEN':\n      sessionStorage.removeItem(\"usersToken\");\n      return {\n        userToken: '',\n        _userId: '',\n        userRole: '',\n        message: '',\n        profile: '',\n        error: ''\n      };\n\n    case 'SET_PROFILE':\n      return { ...state,\n        profile: action.payload\n      };\n\n    case 'SET_USER_REFRESH':\n      return {};\n\n    default:\n      return state;\n  }\n}; // const tokenUserReducer = (state = tokenState, action) => {\n//     switch(action.type){\n//         case 'SET_USER_TOKEN' : \n//         case 'SET_USER_RETRIEVE_TOKEN' :\n//         const user = jwtdecode(action.token)\n//         return {\n//             ...tokenState,\n//             userToken : action.token,\n//             _userId : user.id,\n//             userRole : user.role,\n//             message : 'successfully logged in',\n//             error : ''\n//         }\n//         case 'SET_SIGN_UP' : return {\n//             ...tokenState,\n//             userToken : '',\n//             _userId : '',\n//             userRole : '',\n//             message : 'succesfully signed up',\n//             error : ''\n//         }\n//         case 'SET_AUTH_ERROR' : return {\n//             userToken : '',\n//             _userId : '',\n//             userRole : '',\n//             message : '',\n//             error : action.payload\n//         }\n//         case 'DELETE_USER_TOKEN' : sessionStorage.removeItem(\"usersToken\")\n//         return {\n//             userToken : '',\n//             _userId : '',\n//             userRole : '',\n//             message : '',\n//             error : ''\n//         }\n//         default : return state\n//     }\n// }\n\n\nexport { userReducer };","map":{"version":3,"names":["jwtdecode","userInitialState","userToken","sessionStorage","getItem","_userId","userRole","message","error","profile","userReducer","state","action","type","user","token","id","role","payload","removeItem"],"sources":["/home/asplap2005/Documents/React-Project/movie-app-frontend/src/components/redux/UserReducer.js"],"sourcesContent":["import jwtdecode from 'jwt-decode'\n\nconst userInitialState = {\n    userToken : sessionStorage.getItem(\"usersToken\"),\n    _userId : '',\n    userRole : '',\n    message : '',\n    error : '',\n    profile : ''\n}\n// const tokenState = {\n//     userToken : sessionStorage.getItem(\"usersToken\"),\n//     _userId : '',\n//     userRole : '',\n//     message : '',\n//     error : ''\n// }\n\nconst userReducer = (state = userInitialState, action) => {\n    switch(action.type){\n        case 'SET_USER_TOKEN' : \n        case 'SET_USER_RETRIEVE_TOKEN' :\n        const user = jwtdecode(action.token)\n        return {\n            ...state,\n            userToken : action.token,\n            _userId : user.id,\n            userRole : user.role,\n            message : 'logged in',\n            error : ''\n        }\n        case 'SET_SIGN_UP' : return {\n            ...state,\n            userToken : '',\n            _userId : '',\n            userRole : '',\n            message : 'signed up',\n            error : ''\n        }\n        case 'SET_AUTH_ERROR' : return {\n            userToken : '',\n            _userId : '',\n            userRole : '',\n            message : '',\n            error : action.payload\n        }\n        case 'DELETE_USER_TOKEN' : sessionStorage.removeItem(\"usersToken\")\n        return {\n            userToken : '',\n            _userId : '',\n            userRole : '',\n            message : '',\n            profile : '',\n            error : ''\n        }\n        case 'SET_PROFILE' : return {\n            ...state,\n            profile : action.payload\n        }\n        case 'SET_USER_REFRESH' : return {\n            \n        }\n        default : return state\n    }\n}\n// const tokenUserReducer = (state = tokenState, action) => {\n//     switch(action.type){\n//         case 'SET_USER_TOKEN' : \n//         case 'SET_USER_RETRIEVE_TOKEN' :\n//         const user = jwtdecode(action.token)\n//         return {\n//             ...tokenState,\n//             userToken : action.token,\n//             _userId : user.id,\n//             userRole : user.role,\n//             message : 'successfully logged in',\n//             error : ''\n//         }\n//         case 'SET_SIGN_UP' : return {\n//             ...tokenState,\n//             userToken : '',\n//             _userId : '',\n//             userRole : '',\n//             message : 'succesfully signed up',\n//             error : ''\n//         }\n//         case 'SET_AUTH_ERROR' : return {\n//             userToken : '',\n//             _userId : '',\n//             userRole : '',\n//             message : '',\n//             error : action.payload\n//         }\n//         case 'DELETE_USER_TOKEN' : sessionStorage.removeItem(\"usersToken\")\n//         return {\n//             userToken : '',\n//             _userId : '',\n//             userRole : '',\n//             message : '',\n//             error : ''\n//         }\n//         default : return state\n//     }\n// }\n\n\nexport {\n    userReducer\n}"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,YAAtB;AAEA,MAAMC,gBAAgB,GAAG;EACrBC,SAAS,EAAGC,cAAc,CAACC,OAAf,CAAuB,YAAvB,CADS;EAErBC,OAAO,EAAG,EAFW;EAGrBC,QAAQ,EAAG,EAHU;EAIrBC,OAAO,EAAG,EAJW;EAKrBC,KAAK,EAAG,EALa;EAMrBC,OAAO,EAAG;AANW,CAAzB,C,CAQA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMC,WAAW,GAAG,YAAsC;EAAA,IAArCC,KAAqC,uEAA7BV,gBAA6B;EAAA,IAAXW,MAAW;;EACtD,QAAOA,MAAM,CAACC,IAAd;IACI,KAAK,gBAAL;IACA,KAAK,yBAAL;MACA,MAAMC,IAAI,GAAGd,SAAS,CAACY,MAAM,CAACG,KAAR,CAAtB;MACA,OAAO,EACH,GAAGJ,KADA;QAEHT,SAAS,EAAGU,MAAM,CAACG,KAFhB;QAGHV,OAAO,EAAGS,IAAI,CAACE,EAHZ;QAIHV,QAAQ,EAAGQ,IAAI,CAACG,IAJb;QAKHV,OAAO,EAAG,WALP;QAMHC,KAAK,EAAG;MANL,CAAP;;IAQA,KAAK,aAAL;MAAqB,OAAO,EACxB,GAAGG,KADqB;QAExBT,SAAS,EAAG,EAFY;QAGxBG,OAAO,EAAG,EAHc;QAIxBC,QAAQ,EAAG,EAJa;QAKxBC,OAAO,EAAG,WALc;QAMxBC,KAAK,EAAG;MANgB,CAAP;;IAQrB,KAAK,gBAAL;MAAwB,OAAO;QAC3BN,SAAS,EAAG,EADe;QAE3BG,OAAO,EAAG,EAFiB;QAG3BC,QAAQ,EAAG,EAHgB;QAI3BC,OAAO,EAAG,EAJiB;QAK3BC,KAAK,EAAGI,MAAM,CAACM;MALY,CAAP;;IAOxB,KAAK,mBAAL;MAA2Bf,cAAc,CAACgB,UAAf,CAA0B,YAA1B;MAC3B,OAAO;QACHjB,SAAS,EAAG,EADT;QAEHG,OAAO,EAAG,EAFP;QAGHC,QAAQ,EAAG,EAHR;QAIHC,OAAO,EAAG,EAJP;QAKHE,OAAO,EAAG,EALP;QAMHD,KAAK,EAAG;MANL,CAAP;;IAQA,KAAK,aAAL;MAAqB,OAAO,EACxB,GAAGG,KADqB;QAExBF,OAAO,EAAGG,MAAM,CAACM;MAFO,CAAP;;IAIrB,KAAK,kBAAL;MAA0B,OAAO,EAAP;;IAG1B;MAAU,OAAOP,KAAP;EA3Cd;AA6CH,CA9CD,C,CA+CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA,SACID,WADJ"},"metadata":{},"sourceType":"module"}