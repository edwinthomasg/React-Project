{"ast":null,"code":"import jwtdecode from 'jwt-decode';\nconst initialState = {\n  signup: false,\n  profile: '',\n  adminProfile: ''\n};\nconst tokenState = {\n  userToken: localStorage.getItem(\"usersToken\"),\n  _userId: ''\n};\nconst tokenAdminState = {\n  adminToken: localStorage.getItem(\"adminsToken\"),\n  _adminId: ''\n};\n\nconst authReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case 'SET_SIGNUP':\n      return { ...state,\n        signup: true\n      };\n\n    case 'SET_SIGNOUT':\n      return { ...state,\n        signup: false\n      };\n\n    case 'TOGGLE_SIGNUP':\n      return { ...state,\n        signup: !state.signup\n      };\n\n    case 'SET_PROFILE':\n      return { ...state,\n        profile: action.payload\n      };\n\n    case 'SET_ADMIN_PROFILE':\n      return { ...state,\n        adminProfile: action.payload\n      };\n\n    default:\n      return state;\n  }\n};\n\nconst tokenReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : tokenState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case 'SET_USER_TOKEN':\n    case 'SET_USER_RETRIEVE_TOKEN':\n      const user = jwtdecode(action.token);\n      return { ...tokenState,\n        userToken: action.token,\n        _userId: user.id\n      };\n\n    case 'DELETE_USER_TOKEN':\n      localStorage.removeItem(\"usersToken\");\n      return { ...tokenState,\n        userToken: '',\n        _userId: ''\n      };\n\n    default:\n      return state;\n  }\n};\n\nconst tokenAdminReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : tokenAdminState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  console.log(\"type : \", action.type, \"\");\n\n  switch (action.type) {\n    case 'SET_ADMIN_TOKEN':\n    case 'SET_ADMIN_RETRIEVE_TOKEN':\n      const admin = jwtdecode(action.token);\n      return { ...tokenAdminState,\n        adminToken: action.token,\n        _adminId: admin.id\n      };\n\n    case 'DELETE_ADMIN_TOKEN':\n      localStorage.removeItem(\"adminsToken\");\n      return { ...tokenAdminState,\n        adminToken: '',\n        _adminId: ''\n      };\n\n    default:\n      return state;\n  }\n};\n\nexport { authReducer, tokenReducer, tokenAdminReducer };","map":{"version":3,"names":["jwtdecode","initialState","signup","profile","adminProfile","tokenState","userToken","localStorage","getItem","_userId","tokenAdminState","adminToken","_adminId","authReducer","state","action","type","payload","tokenReducer","user","token","id","removeItem","tokenAdminReducer","console","log","admin"],"sources":["/home/asplap2005/Documents/React-Project/movie-app-frontend/src/components/redux/authReducer.js"],"sourcesContent":["import jwtdecode from 'jwt-decode'\n\nconst initialState = {\n    signup : false,\n    profile : '',\n    adminProfile : ''\n}\nconst tokenState = {\n    userToken : localStorage.getItem(\"usersToken\"),\n    _userId : ''\n}\nconst tokenAdminState = {\n    adminToken : localStorage.getItem(\"adminsToken\"),\n    _adminId : ''\n}\n\nconst authReducer = (state = initialState, action) => {\n    switch(action.type){\n        case 'SET_SIGNUP' : return {\n            ...state,\n            signup : true\n        }\n        case 'SET_SIGNOUT' : return {\n            ...state,\n            signup : false\n        }\n        case 'TOGGLE_SIGNUP' : return {\n            ...state,\n            signup : ! state.signup\n        }\n        case 'SET_PROFILE' : return {\n            ...state,\n            profile : action.payload\n        }\n        case 'SET_ADMIN_PROFILE' : return {\n            ...state,\n            adminProfile : action.payload\n        }\n        default : return state\n    }\n}\nconst tokenReducer = (state = tokenState, action) => {\n    switch(action.type){\n        case 'SET_USER_TOKEN' : \n        case 'SET_USER_RETRIEVE_TOKEN' :\n        const user = jwtdecode(action.token)\n        return {\n            ...tokenState,\n            userToken : action.token,\n            _userId : user.id\n        }\n        case 'DELETE_USER_TOKEN' : localStorage.removeItem(\"usersToken\")\n        return {\n            ...tokenState,\n            userToken : '',\n            _userId : ''\n        }\n        default : return state\n    }\n}\nconst tokenAdminReducer = (state = tokenAdminState, action) => {\n    console.log(\"type : \",action.type,\"\")\n    switch(action.type){\n        case 'SET_ADMIN_TOKEN' :\n        case 'SET_ADMIN_RETRIEVE_TOKEN' : \n        const admin = jwtdecode(action.token)\n        return {\n            ...tokenAdminState,\n            adminToken : action.token,\n            _adminId : admin.id\n        }\n        case 'DELETE_ADMIN_TOKEN' : localStorage.removeItem(\"adminsToken\")\n        return {\n            ...tokenAdminState,\n            adminToken : '',\n            _adminId : ''\n        }\n        default : return state\n    }\n}\n\nexport {\n    authReducer,\n    tokenReducer,\n    tokenAdminReducer\n}"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,YAAtB;AAEA,MAAMC,YAAY,GAAG;EACjBC,MAAM,EAAG,KADQ;EAEjBC,OAAO,EAAG,EAFO;EAGjBC,YAAY,EAAG;AAHE,CAArB;AAKA,MAAMC,UAAU,GAAG;EACfC,SAAS,EAAGC,YAAY,CAACC,OAAb,CAAqB,YAArB,CADG;EAEfC,OAAO,EAAG;AAFK,CAAnB;AAIA,MAAMC,eAAe,GAAG;EACpBC,UAAU,EAAGJ,YAAY,CAACC,OAAb,CAAqB,aAArB,CADO;EAEpBI,QAAQ,EAAG;AAFS,CAAxB;;AAKA,MAAMC,WAAW,GAAG,YAAkC;EAAA,IAAjCC,KAAiC,uEAAzBb,YAAyB;EAAA,IAAXc,MAAW;;EAClD,QAAOA,MAAM,CAACC,IAAd;IACI,KAAK,YAAL;MAAoB,OAAO,EACvB,GAAGF,KADoB;QAEvBZ,MAAM,EAAG;MAFc,CAAP;;IAIpB,KAAK,aAAL;MAAqB,OAAO,EACxB,GAAGY,KADqB;QAExBZ,MAAM,EAAG;MAFe,CAAP;;IAIrB,KAAK,eAAL;MAAuB,OAAO,EAC1B,GAAGY,KADuB;QAE1BZ,MAAM,EAAG,CAAEY,KAAK,CAACZ;MAFS,CAAP;;IAIvB,KAAK,aAAL;MAAqB,OAAO,EACxB,GAAGY,KADqB;QAExBX,OAAO,EAAGY,MAAM,CAACE;MAFO,CAAP;;IAIrB,KAAK,mBAAL;MAA2B,OAAO,EAC9B,GAAGH,KAD2B;QAE9BV,YAAY,EAAGW,MAAM,CAACE;MAFQ,CAAP;;IAI3B;MAAU,OAAOH,KAAP;EArBd;AAuBH,CAxBD;;AAyBA,MAAMI,YAAY,GAAG,YAAgC;EAAA,IAA/BJ,KAA+B,uEAAvBT,UAAuB;EAAA,IAAXU,MAAW;;EACjD,QAAOA,MAAM,CAACC,IAAd;IACI,KAAK,gBAAL;IACA,KAAK,yBAAL;MACA,MAAMG,IAAI,GAAGnB,SAAS,CAACe,MAAM,CAACK,KAAR,CAAtB;MACA,OAAO,EACH,GAAGf,UADA;QAEHC,SAAS,EAAGS,MAAM,CAACK,KAFhB;QAGHX,OAAO,EAAGU,IAAI,CAACE;MAHZ,CAAP;;IAKA,KAAK,mBAAL;MAA2Bd,YAAY,CAACe,UAAb,CAAwB,YAAxB;MAC3B,OAAO,EACH,GAAGjB,UADA;QAEHC,SAAS,EAAG,EAFT;QAGHG,OAAO,EAAG;MAHP,CAAP;;IAKA;MAAU,OAAOK,KAAP;EAfd;AAiBH,CAlBD;;AAmBA,MAAMS,iBAAiB,GAAG,YAAqC;EAAA,IAApCT,KAAoC,uEAA5BJ,eAA4B;EAAA,IAAXK,MAAW;EAC3DS,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAsBV,MAAM,CAACC,IAA7B,EAAkC,EAAlC;;EACA,QAAOD,MAAM,CAACC,IAAd;IACI,KAAK,iBAAL;IACA,KAAK,0BAAL;MACA,MAAMU,KAAK,GAAG1B,SAAS,CAACe,MAAM,CAACK,KAAR,CAAvB;MACA,OAAO,EACH,GAAGV,eADA;QAEHC,UAAU,EAAGI,MAAM,CAACK,KAFjB;QAGHR,QAAQ,EAAGc,KAAK,CAACL;MAHd,CAAP;;IAKA,KAAK,oBAAL;MAA4Bd,YAAY,CAACe,UAAb,CAAwB,aAAxB;MAC5B,OAAO,EACH,GAAGZ,eADA;QAEHC,UAAU,EAAG,EAFV;QAGHC,QAAQ,EAAG;MAHR,CAAP;;IAKA;MAAU,OAAOE,KAAP;EAfd;AAiBH,CAnBD;;AAqBA,SACID,WADJ,EAEIK,YAFJ,EAGIK,iBAHJ"},"metadata":{},"sourceType":"module"}