{"ast":null,"code":"import { SET_SIGNUP, SET_SIGNOUT, TOGGLE_SIGNUP, SET_USER_TOKEN, SET_USER_RETRIEVE_TOKEN, DELETE_USER_TOKEN, SET_ADMIN_TOKEN, SET_ADMIN_RETRIEVE_TOKEN, DELETE_ADMIN_TOKEN, SET_PROFILE, SET_ADMIN_PROFILE } from \"./authTypes\";\nimport axios from 'axios';\n\nconst setSignUp = () => {\n  return {\n    type: SET_SIGNUP\n  };\n};\n\nconst setSignOut = () => {\n  return {\n    type: SET_SIGNOUT\n  };\n};\n\nconst toggleSignup = () => {\n  return {\n    type: TOGGLE_SIGNUP\n  };\n};\n\nconst setUserToken = token => {\n  return {\n    type: SET_USER_TOKEN,\n    token\n  };\n};\n\nconst setUserRetrieveToken = token => {\n  return {\n    type: SET_USER_RETRIEVE_TOKEN,\n    token\n  };\n};\n\nconst deleteUserToken = () => {\n  return {\n    type: DELETE_USER_TOKEN\n  };\n};\n\nconst setAdminToken = token => {\n  return {\n    type: SET_ADMIN_TOKEN,\n    token\n  };\n};\n\nconst deleteAdminToken = () => {\n  return {\n    type: DELETE_ADMIN_TOKEN\n  };\n};\n\nconst setAdminRetrieveToken = token => {\n  return {\n    type: SET_ADMIN_RETRIEVE_TOKEN,\n    token\n  };\n};\n\nconst setProfile = user => {\n  return {\n    type: SET_PROFILE,\n    payload: user\n  };\n};\n\nconst setAdminProfile = admin => {\n  return {\n    type: SET_ADMIN_PROFILE,\n    payload: admin\n  };\n};\n\nconst storeUserToken = function (user) {\n  let type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'login';\n  return dispatch => {\n    axios.post(`http://localhost:3040/users/${type}`, user).then(token => {\n      if (type === 'login') {\n        localStorage.setItem(\"usersToken\", token.data.accessToken);\n        dispatch(setUserToken(token.data.accessToken));\n      }\n    }).catch(err => console.log(err.response.data, err.response.status));\n  };\n};\n\nconst storeAdminToken = admin => {\n  return dispatch => {\n    axios.post(`http://localhost:3040/admin/login`, admin).then(token => {\n      localStorage.setItem(\"adminsToken\", token.data.accessToken);\n      dispatch(setAdminToken(token.data.accessToken));\n    }).catch(err => console.log(err.response.data, err.response.status));\n  };\n};\n\nconst retrieveUserToken = () => {\n  return (dispatch, getState) => {\n    const token = getState().tokener.userToken;\n\n    if (token) {\n      dispatch(setUserRetrieveToken(token));\n    }\n  };\n};\n\nconst retrieveAdminToken = () => {\n  return (dispatch, getState) => {\n    const token = getState().tokener.adminToken;\n\n    if (token) {\n      dispatch(setAdminRetrieveToken(token));\n    }\n  };\n};\n\nconst viewProfile = userId => {\n  return dispatch => {\n    axios.get(`http://localhost:3040/users/my-profile/${userId}`).then(user => {\n      dispatch(setProfile(user.data.user));\n    }).catch(err => console.log(err));\n  };\n};\n\nconst viewAdminProfile = adminId => {\n  return dispatch => {\n    axios.get(`http://localhost:3040/admin/my-profile/${adminId}`).then(admin => {\n      console.log(\"datas ... \", admin.data.admin);\n      dispatch(setAdminProfile(admin.data.admin));\n    }).catch(err => console.log(err));\n  };\n};\n\nconst updateProfile = (userDetails, userId) => {\n  console.log(\"user details : \", userDetails);\n  console.log(\"id : \", userId);\n  return dispatch => {\n    axios.put(`http://localhost:3040/users/${userId}`, userDetails).then(() => {\n      dispatch(setProfile(userDetails));\n    }).catch(err => console.log(\"error : \", err));\n  };\n};\n\nconst updateAdminProfile = (adminDetails, adminId) => {\n  console.log(\"admin details : \", adminDetails);\n  console.log(\"id : \", adminId);\n  return dispatch => {\n    axios.put(`http://localhost:3040/admin/${adminId}`, adminDetails).then(() => {\n      console.log(\"yes\"); // dispatch(setAdminProfile(adminDetails))\n    }).catch(err => console.log(\"error : \", err));\n  };\n};\n\nexport { setSignUp, setSignOut, toggleSignup, storeUserToken, retrieveUserToken, deleteUserToken, storeAdminToken, retrieveAdminToken, deleteAdminToken, viewProfile, updateProfile, viewAdminProfile, updateAdminProfile };","map":{"version":3,"names":["SET_SIGNUP","SET_SIGNOUT","TOGGLE_SIGNUP","SET_USER_TOKEN","SET_USER_RETRIEVE_TOKEN","DELETE_USER_TOKEN","SET_ADMIN_TOKEN","SET_ADMIN_RETRIEVE_TOKEN","DELETE_ADMIN_TOKEN","SET_PROFILE","SET_ADMIN_PROFILE","axios","setSignUp","type","setSignOut","toggleSignup","setUserToken","token","setUserRetrieveToken","deleteUserToken","setAdminToken","deleteAdminToken","setAdminRetrieveToken","setProfile","user","payload","setAdminProfile","admin","storeUserToken","dispatch","post","then","localStorage","setItem","data","accessToken","catch","err","console","log","response","status","storeAdminToken","retrieveUserToken","getState","tokener","userToken","retrieveAdminToken","adminToken","viewProfile","userId","get","viewAdminProfile","adminId","updateProfile","userDetails","put","updateAdminProfile","adminDetails"],"sources":["/home/asplap2005/Documents/React-Project/movie-app-frontend/src/components/redux/authActions.js"],"sourcesContent":["import { SET_SIGNUP, SET_SIGNOUT, TOGGLE_SIGNUP, SET_USER_TOKEN, SET_USER_RETRIEVE_TOKEN, DELETE_USER_TOKEN, SET_ADMIN_TOKEN, SET_ADMIN_RETRIEVE_TOKEN, DELETE_ADMIN_TOKEN, SET_PROFILE, SET_ADMIN_PROFILE } from \"./authTypes\"\nimport axios from 'axios'\n\nconst setSignUp = () => {\n    return {\n        type : SET_SIGNUP\n    }\n}\nconst setSignOut = () => {\n    return {\n        type : SET_SIGNOUT\n    }\n}\nconst toggleSignup = () => {\n    return {\n        type : TOGGLE_SIGNUP\n    }\n}\nconst setUserToken = (token) => {\n    return {\n        type : SET_USER_TOKEN,\n        token\n    }\n}\nconst setUserRetrieveToken = (token) => {\n    return {\n        type : SET_USER_RETRIEVE_TOKEN,\n        token\n    }\n}\nconst deleteUserToken = () => {\n    return {\n        type : DELETE_USER_TOKEN\n    }\n}\nconst setAdminToken = (token) => {\n    return {\n        type : SET_ADMIN_TOKEN,\n        token\n    }\n}\nconst deleteAdminToken = () => {\n    return {\n        type : DELETE_ADMIN_TOKEN\n    }\n}\nconst setAdminRetrieveToken = (token) => {\n    return {\n        type : SET_ADMIN_RETRIEVE_TOKEN,\n        token\n    }\n}\nconst setProfile = (user) => {\n    return {\n        type : SET_PROFILE,\n        payload : user\n    }\n}\nconst setAdminProfile = (admin) => {\n    return {\n        type : SET_ADMIN_PROFILE,\n        payload : admin\n    }\n}\nconst storeUserToken = (user, type = 'login') => {\n    return(dispatch) => {\n        axios.post(`http://localhost:3040/users/${type}`,user)\n        .then( token => {\n            if(type === 'login')\n            {\n            localStorage.setItem(\"usersToken\", token.data.accessToken)\n            dispatch(setUserToken(token.data.accessToken))\n            }\n        })\n        .catch( err => console.log(err.response.data,err.response.status))\n    }\n}\nconst storeAdminToken = (admin) => {\n    return(dispatch) => {\n        axios.post(`http://localhost:3040/admin/login`,admin)\n        .then( token => {\n            localStorage.setItem(\"adminsToken\", token.data.accessToken)\n            dispatch(setAdminToken(token.data.accessToken))\n        })\n        .catch( err => console.log(err.response.data,err.response.status))\n    }\n}\nconst retrieveUserToken = () => {\n    return(dispatch, getState) => {\n        const token = getState().tokener.userToken\n        if(token){\n            dispatch(setUserRetrieveToken(token))\n        } \n    }\n}\nconst retrieveAdminToken = () => {\n    return(dispatch, getState) => {\n        const token = getState().tokener.adminToken\n        if(token){\n            dispatch(setAdminRetrieveToken(token))\n        } \n    }\n}\nconst viewProfile = (userId) => {\n    return(dispatch) => {\n        axios.get(`http://localhost:3040/users/my-profile/${userId}`)\n        .then((user) => {\n            dispatch(setProfile(user.data.user))\n        })\n        .catch( err => console.log(err) )\n    }\n}\nconst viewAdminProfile = (adminId) => {\n    return(dispatch) => {\n        axios.get(`http://localhost:3040/admin/my-profile/${adminId}`)\n        .then((admin) => {\n            console.log(\"datas ... \",admin.data.admin)\n            dispatch(setAdminProfile(admin.data.admin))\n        })\n        .catch( err => console.log(err) )\n    }\n}\nconst updateProfile = (userDetails,userId) => {\n    console.log(\"user details : \",userDetails)\n    console.log(\"id : \",userId)\n    return (dispatch) => {\n        axios.put(`http://localhost:3040/users/${userId}`,userDetails)\n        .then(() => { \n            dispatch(setProfile(userDetails))\n        })\n        .catch( err => console.log(\"error : \",err))\n    }\n}\nconst updateAdminProfile = (adminDetails,adminId) => {\n    console.log(\"admin details : \",adminDetails)\n    console.log(\"id : \",adminId)\n    return (dispatch) => {\n        axios.put(`http://localhost:3040/admin/${adminId}`,adminDetails)\n        .then(() => { \n            console.log(\"yes\")\n            // dispatch(setAdminProfile(adminDetails))\n        })\n        .catch( err => console.log(\"error : \",err))\n    }\n}\nexport {\n    setSignUp,\n    setSignOut,\n    toggleSignup,\n    storeUserToken,\n    retrieveUserToken,\n    deleteUserToken,\n    storeAdminToken,\n    retrieveAdminToken,\n    deleteAdminToken,\n    viewProfile,\n    updateProfile,\n    viewAdminProfile,\n    updateAdminProfile\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}